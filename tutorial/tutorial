#!/usr/bin/env -S tuterm -m demo

# This script is only ever meant to be run in demo mode. It simulates a tutorial
# within a tutorial. That's why we can't rely solely on the facilities that
# tuterm provides. It has to be a little hacky.

source common_config.sh.in

alias tuterm="$(realpath "$PWD/../tuterm")"

run() {
    HOME="$PWD"
    M 'Run tutorials and demonstrations for your favorite CLI tools.'
    echo
    mode demo && sleep '0.5s'
    M "Let's see which tutorials we have available."
    mode demo && sleep '1s'
    e tuterm --list
    echo -e "git\ntuterm"
    sleep '1s'
    M "Great! Let's see an example git tutorial"
    sleep 1.5
    e tuterm git
    sleep 0.5
    tuterm git
    sleep 1.5
    clear -x
    M 'Tuterm can also be run in demo mode (no user interaction).'
    sleep 1.5
    M "Let's run the previous tutorial again, but in demo mode."
    sleep 1.5
    c tuterm git --mode demo
}

# vim: ft=sh
