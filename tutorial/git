#!/usr/bin/env tuterm

source common_config.sh.in
TUTERM_NAME="git-$(mode)"

rm -rf /tmp/tutorial
fake_home /tmp/tutorial

print_cmdline() {
    prompt
    sleep 1
    color cmdline
    __print_out "$@"
    color 0; echo

}

run() {
    git config --global init.defaultBranch 'master'
    M "Welcome to git tutorial!"
    if mode tut; then
        sleep 1
        echo

        M "First tuterm shows you what command you have to run."
        sleep 1
        print_cmdline git init

        M "Then it's your turn to run it."
        prompt; sleep 1
        __print_out git init; echo
        git init

        touch file

        sleep 0.5
        M "Let's stage a file"
        print_cmdline git add file
        sleep 0.5
        prompt; sleep 1
        __print_out git add fiel; echo
        color warning
        echo "Wrong command, try again"
        prompt
        sleep 1
        __print_out git add file; echo

        M "You get the gist. Let's move on."
    else
        echo
        c git init
        touch file
        c git add file
        sleep 0.5
        M "And so on..."
    fi
}
